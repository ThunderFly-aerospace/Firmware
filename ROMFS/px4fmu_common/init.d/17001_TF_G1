#!nsh
#
# @name ThunderFly G1
#
# @type AutoGyro
# @class Autogyro
#
# @output MAIN1 ruddle_left
# @output MAIN2 ruddle_right
# @output MAIN3 rotor_left 
# @output MAIN4 rotor_right
# @output MAIN5 throttle
# @output MAIN6 rotor_motor
#
# @maintainer ThunderFly
#

sh /etc/init.d/rc.fw_defaults

set MIXER TF_G1

set PWM_RATE 50
set PWM_AUX_RATE 50
set PWM_OUT 12345678

set MAV_TYPE 1
set MAV_BROADCAST 1
set MAV_COMP_ID 1

# tady si nejsem jist, jestli tohle nebude potreba povolit..
#set MNT_MAN_ROLL 1
#set MNT_MAN_PITCH 2 
#set MNT_MAN_YAW 3

set COM_FLTMODE1 0
set COM_FLTMODE1 8


#Vypnuti omezeni na minimalni letovou rychlost
set LAUN_CAT_PMAX 0
set FW_AIRSPD_TRIM 15


# logovani GPS
set GPS_DUMP_COMM 1
set GPS_UBX_DYNMODEL 7


# reverzovani serv, smerovka L, smerovka P, rotor L, rotor P
set PWM_MAIN_REV1 0 
set PWM_MAIN_REV2 0
set PWM_MAIN_REV3 0
set PWM_MAIN_REV4 0


# vypnout airspeed senzor
set FW_ARSP_MODE 1

# Allow arming without GPS
set COM_ARM_WO_GPS 1


# kalibrace
set CAL_ACC0_ID 1246218
set CAL_ACC1_ID 1114634
set CAL_GYRO0_ID 2163722
set CAL_GYRO1_ID 2228490
set CAL_MAG0_ID 131594

set CAL_MAG0_EN 0

# jen SW joystick
set COM_RC_IN_MODE 2


set CBRK_AIRSPD_CHK 162128
set CBRK_USB_CHK 197848
set COMARM_SWISBTN 1
set CBRK_IO_SAFETY 22027